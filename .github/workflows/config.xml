<?xml version="1.0"?>
<!DOCTYPE module PUBLIC
        "-//Checkstyle//DTD Checkstyle Configuration 1.3//EN"
        "https://checkstyle.org/dtds/configuration_1_3.dtd">

<module name = "Checker">
    <property name="charset" value="UTF-8"/>

    <!-- do not change severity to 'error', as that will hide errors caused by exceptions -->
    <property name="severity" value="warning"/>

    <!-- haltOnException is required for exception fixes and reporting of all exceptions -->
    <property name="haltOnException" value="false"/>

    <!-- BeforeExecutionFileFilters is required for sources of java9 -->
    <module name="BeforeExecutionExclusionFileFilter">
        <property name="fileNamePattern" value="module\-info\.java$" />
    </module>

    <module name="TreeWalker">
        <!-- We intentionally ignore all Java parse errors in regression reports.
             Projects often use syntax newer than Checkstyle supports, so parse
             failures must not appear as diffs or violations. Stacktrace format
             changes would also create noisy diffs, so we suppress them entirely. -->
        <property name="skipFileOnJavaParseException" value="true"/>
        <property name="javaParseExceptionSeverity" value="ignore"/>

        <!-- MethodName Check to Intentionally Produce Violations -->
        <module name="MethodName">
            <!-- 
                The following regex pattern is intentionally restrictive and does not match any valid method names.
                This will cause Checkstyle to flag all method names as violations.
            -->
            <property name="format" value="^[A-Z]{0}$"/>
        </module>

        <!-- suppress javadoc parsing errors, as we test Check not a parser -->
        <module name="SuppressionXpathSingleFilter">
            <property name="message" value="Javadoc comment at column \d+ has parse error"/>
        </module>

    </module>

</module>
